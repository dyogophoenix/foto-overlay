/*! ===================================================

    # Name: Foto Overlay
    # Version: v2.5
    # Create in: 28/03/2015
    # Update in: 25/07/2016
    # Author: Dyogo Phoenix
    # Author URL: http://dyogophoenix.com.br/
    # Info: http://dyogophoenix.github.io/foto-overlay/
    # License: MIT License

==================================================== */

!function(){this.fotoOverlay=function(t){fotoOverlay.prototype.start=function(t){t.elem="undefined"==typeof t.elem?".foto-overlay":t.elem,t.ctn=this.checkElem(t.elem),t.ctn.length>0&&(this.createStyle("foto-overlay-css"),this.config(t))},fotoOverlay.prototype.original=function(t){var e=new Image;return e.src=t,e.width},fotoOverlay.prototype.checkElem=function(t){var e=typeof t;switch(e){case"undefined":var o=document.querySelectorAll(".foto-overlay");break;case"string":var o=document.querySelectorAll(t);break;case"object":var o=t;break;default:var o=!1}return o},fotoOverlay.prototype.createStyle=function(t){var e=document.createElement("style");e.className=t,document.getElementsByTagName("head")[0].appendChild(e)},fotoOverlay.prototype.addCSS=function(t){var e=document.createTextNode(t);document.getElementsByClassName("foto-overlay-css")[0].appendChild(e)},fotoOverlay.prototype.config=function(t,e){if(t["continue"])delete t["continue"];else for(var o=0;o<t.ctn.length;o++){var a=o+1,r=t.ctn[o];r.setAttribute("data-foto-overlay",a);var n=r.children[0].src;if(!e){var c=t.elem+'[data-foto-overlay="'+a+"\"] { background-image: url('"+n+"') !important; }";this.addCSS(c)}var i=this.original(n),l=r.clientWidth;if(t.cWidth||(t.cWidth=l),l>i){var s=i+50;s<=r.clientWidth?r.setAttribute("data-fo-status","true"):r.setAttribute("data-fo-status","prepare")}else r.setAttribute("data-fo-status","false");a==t.ctn.length&&t.cWidth!=l&&(t.cWidth=l,t["continue"]||(t["continue"]=!0))}setTimeout(function(){fotoOverlay.prototype.config(t,!0)},20)};var e={elem:t};this.start(e)}}();