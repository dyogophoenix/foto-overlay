/*! ===================================================

    # Name: Foto Overlay
    # Version: v2.4
    # Create in: 28/03/2015
    # Update in: 25/07/2016
    # Author: Dyogo Phoenix
    # Author URL: http://dyogophoenix.com.br/
    # Info: http://dyogophoenix.github.io/foto-overlay/
    # License: MIT License

==================================================== */

!function(){this.fotoOverlay=function(t){fotoOverlay.prototype.start=function(t){t.elem="undefined"==typeof t.elem?".foto-overlay":t.elem,t.ctn=this.checkElem(t.elem),t.ctn.length>0&&(this.createStyle("foto-overlay-css"),this.config(t))},fotoOverlay.prototype.original=function(t){var e=new Image;return e.src=t,e.width},fotoOverlay.prototype.checkElem=function(t){var e=typeof t;switch(e){case"undefined":var o=document.querySelectorAll(".foto-overlay");break;case"string":var o=document.querySelectorAll(t);break;case"object":var o=t;break;default:var o=!1}return o},fotoOverlay.prototype.createStyle=function(t){var e=document.createElement("style");e.className=t,document.getElementsByTagName("head")[0].appendChild(e)},fotoOverlay.prototype.addCSS=function(t){var e=document.createTextNode(t);document.getElementsByClassName("foto-overlay-css")[0].appendChild(e)},fotoOverlay.prototype.config=function(t){if(t["continue"])delete t["continue"];else for(var e=0;e<t.ctn.length;e++){var o=e+1,a=t.ctn[e];a.setAttribute("data-foto-overlay",o);var r=a.children[0].src;if(!t.cWidth){var n=t.elem+'[data-foto-overlay="'+o+"\"] { background-image: url('"+r+"') !important; }";this.addCSS(n)}var c=this.original(r),i=a.clientWidth;if(t.cWidth||(t.cWidth=i),i>c){var l=c+50;l<=a.clientWidth?a.setAttribute("data-fo-status","true"):a.setAttribute("data-fo-status","prepare")}else a.setAttribute("data-fo-status","false");o==t.ctn.length&&t.cWidth!=i&&(t.cWidth=i,t["continue"]||(t["continue"]=!0))}setTimeout(function(){fotoOverlay.prototype.config(t)},20)};var e={elem:t};this.start(e)}}();